<kt-portlet>
	<kt-portlet-header title="Capital expenditure" [class]="'kt-portlet__head--lg'" [viewLoading$]="loading$">
		<ng-container ktPortletTools>
		</ng-container>
	</kt-portlet-header>
	<kt-portlet-body>
		<div class="contact-body mb-5">
			<form [formGroup]="recurringForm">
				<div class="analytics">
					<div class="row slide-in">
						<div class="col-lg-4 kt-margin-bottom-10-mobile date-shift">
							<div class="form-item smallz" *ngIf="allAssets">
								<label class="label">Assets</label>
								<select formControlName="id">
									<option value="">All assets</option>
									<option value="{{asset._id}}" *ngFor="let asset of allAssets;">{{asset.name}}
									</option>
								</select>
							</div>
						</div>
						<div class="col-lg-2 kt-margin-bottom-10-mobile date-shift">
							<div class="form-item smallz">
								<label class="label">Start year</label>
								<select formControlName="start_year">
									<option value="">select year</option>
									<option value="{{year}}" *ngFor="let year of years;">{{year}}
									</option>
								</select>
							</div>
						</div>
						<div class="col-lg-2 kt-margin-bottom-10-mobile date-shift">
							<div class="form-item smallz">
								<label class="label">End year</label>
								<select formControlName="end_year">
									<option value="">select year</option>
									<option value="{{year}}" *ngFor="let year of years;">{{year}}
									</option>
								</select>
							</div>
						</div>
						<div class="col-lg-2 kt-margin-bottom-10-mobile date-shift">
							<div class="form-item smallz">
								<label class="label">Currency</label>
								<select formControlName="currency">
									<option value="naira" selected>â‚¦</option>
									<option value="dollar">$</option>
								</select>
							</div>
						</div>
						<div class="col-lg-2 mt-4">
							<div class="form-item">
								<label class="label">&nbsp;</label>
								<button class="btn btn-primary btn-sm" [disabled]="!recurringForm.valid"
									(click)="generateAnalytics()">Submit</button>
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>
		<ul class="mt-5 detaiils" *ngIf="analyticss">
			<li class="details" *ngIf="analyticss.total_amount">Total capital expenditure:
				{{analyticss.total_amount  | currency: selectedCurrency}}</li>
			<li class="details" *ngIf="analyticss.amount">Capital expenditure for asset selected:
				{{analyticss.amount | currency: selectedCurrency}}</li>
		</ul>
		<div class="mt-5 mb-5 chart">
			<div class="row">
				<div class="col-lg-10 mx-auto">
					<canvas baseChart [data]="pieChartData" [labels]="pieChartLabels" [options]="chartOptions"
						[chartType]="chartType">
					</canvas>
				</div>
			</div>
		</div>

	</kt-portlet-body>
</kt-portlet>