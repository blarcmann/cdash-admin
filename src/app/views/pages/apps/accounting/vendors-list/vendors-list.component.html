<kt-portlet>
	<kt-portlet-header title="Expense management" [class]="'kt-portlet__head--lg'" [viewLoading$]="loading$">
		<ng-container ktPortletTools>
			<h6 class="appr mr-3">{{activeList | titlecase}}</h6>
			<div class="details-action edit text-center" [matMenuTriggerFor]="menu">
				<span>Switch list</span>
			</div>
			<mat-menu #menu="matMenu">
				<button mat-menu-item (click)="switchList('vendors')">Vendors</button>
				<button mat-menu-item (click)="switchList('loans')">Loans</button>
				<button mat-menu-item (click)="switchList('claims')">Claims</button>
			</mat-menu>
		</ng-container>
	</kt-portlet-header>
	<kt-portlet-body>
		<div class="vendors-cover" *ngIf="activeList === 'vendors'">
			<div class="vendor-body">
				<div class="stage-history">
					<table class="table-view">
						<thead>
							<tr>
								<th>Name</th>
								<th>Industry</th>
								<th>Email</th>
								<th>Phone</th>
								<th>Website</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr className="each-row" *ngFor="let vendor of vendors">
								<td>{{ vendor.name }}</td>
								<td>{{ vendor.industry }}</td>
								<td>{{ vendor.email }}</td>
								<td>{{ vendor.phone }}</td>
								<td>{{ vendor.website ? vendor.website : 'NOT AVAILABLE' }}</td>
								<td>
									<a routerLink="/strada/vendors/vendor/{{vendor._id}}" class="view">View</a>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div class="my-pagination mt-5 mb-4">
				<div class="pg">Page: <b>{{pageIndex + 1}}</b></div>
				<div class="btn-grp">
					<button mat-raised-button (click)="getPrev()" color="primary"
						[disabled]="disablePrev">Previous</button>
					<button mat-raised-button (click)="getNext()" color="primary" [disabled]="disableNext">Next</button>
				</div>
			</div>
		</div>
		<div class="claims-cover"  *ngIf="activeList === 'claims'">
			<div class="asset-body">
				<div class="stage-history">
					<table class="table-view">
						<thead>
							<tr>
								<th>Name</th>
								<th>Updated On</th>
								<th>Created On</th>
								<th>Status</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr class="each-row" *ngFor="let claim of claims">
								<td>{{claim.name}}</td>
								<td>{{ claim.created_at | date: 'fullDate' }}</td>
								<td>{{ claim.updated_at | date: 'fullDate' }}</td>
								<td class="status">
									<span [className]="claim.approved ? 'approved' : 'pending'">
										{{claim.approved ? 'Approved' : 'Pending'}}
									</span>
								</td>
								<td>
									<a routerLink="/strada/hr/claim/{{claim._id}}" class="view">View</a>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div class="my-pagination mt-5 mb-4">
				<div class="pg">Page: <b>{{pageIndex1 + 1}}</b></div>
				<div class="btn-grp">
					<button mat-raised-button (click)="getPrev1()" color="primary"
						[disabled]="disablePrev1">Previous</button>
					<button mat-raised-button (click)="getNext1()" color="primary"
						[disabled]="disableNext1">Next</button>
				</div>
			</div>
		</div>
		<div class="loans-cover"  *ngIf="activeList === 'loans'">
			<div class="asset-body">
				<table class="table-view">
					<thead>
						<tr>
							<th>Title</th>
							<th>Payback start date</th>
							<th>Payback completion date</th>
							<th>Status</th>
							<th>Loan amount</th>
							<th></th>
						</tr>
					</thead>
					<tbody>
						<tr class="each-row" *ngFor="let loan of loans">
							<td>{{loan.name}}</td>
							<td>{{loan.start | date: 'longDate'}}</td>
							<td>{{loan.end | date: 'longDate'}}</td>
							<td class="status">
								<span [className]="loan.approved ? 'approved' : 'pending'">
									{{loan.approved ? 'Approved' : 'Pending'}}
								</span>
							</td>
							<td>&#8358; {{loan.amount}}</td>
							<td>
								<a routerLink="/strada/hr/loan/{{loan._id}}" class="view">View</a>
							</td>
						</tr>
					</tbody>
				</table>
			</div>

			<div class="my-pagination mt-5 mb-4">
				<div class="pg">Page: <b>{{pageIndex + 1}}</b></div>
				<div class="btn-grp">
					<button mat-raised-button (click)="getPrev2()" color="primary"
						[disabled]="disablePrev2">Previous</button>
					<button mat-raised-button (click)="getNext2()" color="primary"
						[disabled]="disableNext2">Next</button>
				</div>
			</div>
		</div>
	</kt-portlet-body>
</kt-portlet>
